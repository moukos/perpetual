PPC ppc-cookbook6.1.partbarrier (PPCcookbookSixOnePartBarrier)
{
 P0:r5=55; P1:r6=66; P0:r1=x; P1:r1=x; 
 P0:r2=y; P1:r2=y; x=0; y=0;
};
    P0           |   P1        ;
  stw r5,0,r1    | stw r6,0,r2 ;
  sync           |             ;
  lwz r6,0,r2    | lwz r5,0,r1 ;

exists (P0:r6=0 /\ P1:r5=0);
<<
genprog generated/ppc-cookbook6.1.partbarrier-prog.tex
essdump generated/ppc-cookbook6.1.partbarrier-ess.dot
show 0
>>
<<
show 0
show interesting true
readfrom generated/ppc-cookbook6.1.partbarrier-rf.dot
>>

